<!DOCTYPE html>
<html>
<head>
    <title>WhatsApp Auto-Reply</title>
    <style>
        body { font-family: Arial; padding: 40px; max-width: 800px; margin: 0 auto; }
        .box { background: #f5f5f5; padding: 20px; border-radius: 10px; margin: 20px 0; }
        code { background: #333; color: #fff; padding: 10px; display: block; }
        .copy-btn { 
            background: #007bff; color: white; border: none; 
            padding: 5px 15px; cursor: pointer; margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>✅ WhatsApp Auto-Reply System</h1>
    <div class="box">
        <h2>Your webhook is ready!</h2>
        <p>After deployment, your webhook URL will be:</p>
        <code id="url">Loading your Netlify URL...</code>
        <button class="copy-btn" onclick="copyURL()">Copy URL</button>
        <p>Use this URL in Twilio WhatsApp Business API → "When a message comes in"</p>
    </div>
    <div class="box">
        <h3>How to test:</h3>
        <ol>
            <li><strong>Deploy to Netlify</strong> (drag & drop this folder)</li>
            <li><strong>Get your URL</strong> from Netlify dashboard</li>
            <li><strong>Add to Twilio:</strong> WhatsApp Sandbox → Webhook URL</li>
            <li><strong>Test messages:</strong>
                <ul>
                    <li>"Hi" or "Hello"</li>
                    <li>"1" (Driver Location)</li>
                    <li>"2" (ETA)</li>
                    <li>"3" (Driver Info)</li>
                    <li>"4" (Live Tracking)</li>
                </ul>
            </li>
        </ol>
    </div>

    <script>
        // Auto-detect Netlify URL
        const currentURL = window.location.href;
        const baseURL = currentURL.replace(/\/index\.html$/, '');
        const webhookURL = `${baseURL}/.netlify/functions/whatsapp`;
        
        document.getElementById('url').textContent = webhookURL;
        
        function copyURL() {
            const url = document.getElementById('url').textContent;
            navigator.clipboard.writeText(url).then(() => {
                alert('Webhook URL copied to clipboard!');
            });
        }
    </script>
</body>
</html>